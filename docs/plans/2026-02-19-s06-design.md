# S06 Design — Aesthetic Refinement: Dual-Mode Sanctuary
Date: 2026-02-19

## Intent
Make the site feel like a Sound Sanctuary in both dark and light modes.
Dark is the canonical experience (matches SJC app and DS DNA). Light is a dignified alternative.

## Root Problems Identified

### Bug 1 — Wrong default theme
`ThemeToggle` initializes at `"system"`. Most machines are in light mode → site opens against
its own aesthetic DNA (obsidian + liquid-glass + gold designed for darkness).

### Bug 2 — Hardcoded color in neuron-field SVG
`about/page.tsx` has an inline SVG with `.bg { fill: #F8F6F1 }`. In dark mode this renders
a cream rectangle over the obsidian background. Visually broken.

### Bug 3 — Artwork opacities not adaptive
`nervura-art: 12%`, `jornada-art: 9%`, `vine-divider: 14%`, `neuron-field-bg: 6%` — all
calibrated for dark backgrounds only. On light they disappear. No `.dark` variant exists.

---

## Design Decision: Approach A

Dark as default, light as a dignified alternative. Both modes feel like sanctuary.
- No server/infra cost — pure CSS/token work.
- ThemeToggle stays (flexibility for MVP).
- DS is not touched — all changes live in the site consumer.

---

## S06 Scope — 5 PRs

### PR-1 — Dark default + FOUC prevention
**Files:** `src/components/ThemeToggle.tsx`, `src/app/layout.tsx`

- `ThemeToggle.tsx`: change initial state from `"system"` → `"dark"`
- `layout.tsx`: add inline `<script>` before hydration that reads `localStorage` and sets
  `class="dark"` on `<html>` immediately — eliminates flash of light theme on first paint
- Gate: reload with empty localStorage → site opens dark, no flash

### PR-2 — Fix neuron-field (about page)
**Files:** `src/app/about/page.tsx`

- Replace hardcoded `.bg { fill: #F8F6F1 }` with `fill: var(--sh-semantic-bg-primary)`
  so it adapts automatically to both modes
- Remove the `<rect class="bg">` entirely (body already provides background — rect is redundant
  and causes the visible cream-box bug in dark mode)
- Adjust dendrite/node opacities to read correctly on both backgrounds
- Gate: inspect about page in dark and light — no floating rectangle, artwork visible in both

### PR-3 — Artwork opacity dual-mode
**Files:** `src/app/globals.css`

Add `.dark` overrides for every artwork class:

| Class | Light opacity | Dark opacity |
|---|---|---|
| `.nervura-art` | 0.12 | 0.20 |
| `.jornada-art` | 0.09 | 0.15 |
| `.vine-divider` | 0.14 | 0.22 |
| `.neuron-field-bg` | 0.06 | 0.10 |

Pattern:
```css
.nervura-art { opacity: 0.12; }
.dark .nervura-art { opacity: 0.20; }
```

Gate: toggle theme in browser — artwork remains visible and proportionate in both modes

### PR-4 — Activate unused DS artwork
**Files:** `src/app/page.tsx`, `src/app/sessions/page.tsx`, `src/app/globals.css`

Three SVGs exist in `design-system/styles/dist/` but are not consumed:

- `vine-islimi.svg` — deploy as section divider (richer than the current inline vine)
  on home and/or sound-healing pages
- `scapes-calligraphy.svg` — ghost overlay on a sessions or newsletter section background
- `fruit-venation.svg` — subtle card background texture on home elemental cards

Use `<img>` or inline `<object>` with appropriate opacity class.
Add CSS classes in globals.css for each: `.vine-islimi`, `.scapes-art`, `.venation-bg`
with dual-mode opacities.

Gate: artwork visible in both modes, no layout shift, `prefers-reduced-motion` respected

### PR-5 — Light mode sanctuary feel
**Files:** `src/app/globals.css`

The light mode uses `#F8F6F1` (warm cream/parchment) — correct base. But glass surfaces
and photo vignettes feel clinical. Refinements:

- Glass border warm tint: `rgba(196, 163, 90, 0.18)` → `rgba(196, 163, 90, 0.28)` in light
- Photo vignette: add a light-mode variant with amber warm gradient instead of green/dark
- Ensure `journey-card::after` gold node pulse is visible in light (currently too faint)
- `.journey-axon` gradient: adjust so the gold flash reads on both backgrounds

Gate: switch to light mode — site feels warm, organic, sanctuary-like. Not clinical white.

---

## Definition of Done
- `bash scripts/agent_check.sh` passes (lint + build)
- Dark mode: site opens dark with no flash, all artwork visible and glowing
- Light mode: site feels warm/organic, no broken rectangles, artwork proportionate
- ThemeToggle cycles correctly: dark → light → system

---

## Out of Scope
- English-only copy pass (audit backlog — not a priority)
- CI pipeline
- Newsletter spam protection
- DS token changes (C approach deferred)
